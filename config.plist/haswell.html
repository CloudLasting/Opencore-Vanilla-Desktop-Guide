
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Haswell Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="skylake.html" />
    
    
    <link rel="prev" href="ivy-bridge.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    OpenCore Vanilla Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../installer-guide/opencore-efi.html">
            
                <a href="../installer-guide/opencore-efi.html">
            
                    
                    Creating the USB
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../installer-guide/mac-install.html">
            
                <a href="../installer-guide/mac-install.html">
            
                    
                    macOS install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../installer-guide/winblows-install.html">
            
                <a href="../installer-guide/winblows-install.html">
            
                    
                    Windows install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../installer-guide/linux-install.html">
            
                <a href="../installer-guide/linux-install.html">
            
                    
                    Linux install
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../ktext.html">
            
                <a href="../ktext.html">
            
                    
                    Gathering files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../extras/acpi.html">
            
                <a href="../extras/acpi.html">
            
                    
                    Getting started with ACPI
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Intel Config.plist</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="ivy-bridge.html">
            
                <a href="ivy-bridge.html">
            
                    
                    Ivy Bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="haswell.html">
            
                <a href="haswell.html">
            
                    
                    Haswell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="skylake.html">
            
                <a href="skylake.html">
            
                    
                    Skylake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="kaby-lake.html">
            
                <a href="kaby-lake.html">
            
                    
                    Kaby Lake
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="coffee-lake.html">
            
                <a href="coffee-lake.html">
            
                    
                    Coffee Lake
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Intel HEDT Config.plist</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../config-HEDT/haswell-e.html">
            
                <a href="../config-HEDT/haswell-e.html">
            
                    
                    Haswell-E
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../config-HEDT/broadwell-e.html">
            
                <a href="../config-HEDT/broadwell-e.html">
            
                    
                    Broadwell-E
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../config-HEDT/skylake-x.html">
            
                <a href="../config-HEDT/skylake-x.html">
            
                    
                    Skylake-X
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">AMD Config.plist</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../AMD/fx.html">
            
                <a href="../AMD/fx.html">
            
                    
                    Bulldozer/Jaguar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../AMD/zen.html">
            
                <a href="../AMD/zen.html">
            
                    
                    Zen
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Post Install</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../post-install/">
            
                <a href="../post-install/">
            
                    
                    Post-Install
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../post-install/security.html">
            
                <a href="../post-install/security.html">
            
                    
                    Security and FileVault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../post-install/audio.html">
            
                <a href="../post-install/audio.html">
            
                    
                    Fixing Audio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../post-install/oc2hdd.html">
            
                <a href="../post-install/oc2hdd.html">
            
                    
                    Booting without USB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../post-install/update.html">
            
                <a href="../post-install/update.html">
            
                    
                    Updating OpenCore, kexts and macOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="../extras/msr-lock.html">
            
                <a href="../extras/msr-lock.html">
            
                    
                    Fixing CFG Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="../post-install/verbose.html">
            
                <a href="../post-install/verbose.html">
            
                    
                    Fixing Resolution and Verbose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.7" data-path="../post-install/drm.html">
            
                <a href="../post-install/drm.html">
            
                    
                    Fixing DRM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" data-path="../post-install/iservices.html">
            
                <a href="../post-install/iservices.html">
            
                    
                    Fixing iServices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" data-path="../post-install/nvram.html">
            
                <a href="../post-install/nvram.html">
            
                    
                    Emulated NVRAM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Troubleshooting</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../troubleshooting/troubleshooting.html">
            
                <a href="../troubleshooting/troubleshooting.html">
            
                    
                    General Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../troubleshooting/debug.html">
            
                <a href="../troubleshooting/debug.html">
            
                    
                    OpenCore Debugging
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Extras</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../extras/legacy.html">
            
                <a href="../extras/legacy.html">
            
                    
                    Legacy Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../extras/gui.html">
            
                <a href="../extras/gui.html">
            
                    
                    Add GUI and Bootchime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../extras/gpu-patches.html">
            
                <a href="../extras/gpu-patches.html">
            
                    
                    iGPU Patching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="../extras/kalsr-fix.html">
            
                <a href="../extras/kalsr-fix.html">
            
                    
                    Fixing KASLR slide values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="../extras/spoof.html">
            
                <a href="../extras/spoof.html">
            
                    
                    Disabling unsupported GPUs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.6" >
            
                <a target="_blank" href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/tree/master/clover-conversion">
            
                    
                    Clover Conversion
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Misc</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../misc/credit.html">
            
                <a href="../misc/credit.html">
            
                    
                    Credit
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Haswell</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <blockquote>
<p><em>Last modified: Tue Apr 14 2020 15:52:12 GMT+0000 (Coordinated Universal Time)</em></p>
</blockquote>
<h1 id="haswell"><a name="haswell" class="plugin-anchor" href="#haswell"><i class="fa fa-link" aria-hidden="true"></i></a>Haswell</h1>
<ul>
<li>Supported version: 0.5.7</li>
</ul>
<p><strong>Attention to all users, please note this guide and other khronokernel sites will be shutting down on April 16th, 2020. Reason for this is we&apos;ve decided to move the guides to a dedicated organization to help simplify the hackintosh process and provide a single, trusted source for hackintosh information. This new organization will be known as <a href="https://github.com/dortania" target="_blank">Dortania</a>.</strong></p>
<p>Links to the new sites:</p>
<ul>
<li><a href="https://dortania.github.io/OpenCore-Desktop-Guide/" target="_blank">OpenCore Desktop Guide</a></li>
<li><a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank">Getting Started with ACPI</a></li>
<li><a href="https://dortania.github.io/GPU-Buyers-Guide/" target="_blank">GPU Buyers Guide</a></li>
<li><a href="https://dortania.github.io/Wireless-Buyers-Guide/" target="_blank">Wireless Buyers Guide</a></li>
<li><a href="https://dortania.github.io/Anti-Hackintosh-Buyers-Guide/" target="_blank">Anti-Hackintosh Buyers Guide</a></li>
</ul>
<p><strong>Both Haswell and Broadwell users can follow this</strong></p>
<h2 id="starting-point"><a name="starting-point" class="plugin-anchor" href="#starting-point"><i class="fa fa-link" aria-hidden="true"></i></a>Starting Point</h2>
<p>So making a config.plist may seem hard, its not. It just takes some time but this guide will tell you how to configure eveything, you won&apos;t be left in the cold. This also means if you have issues, review your config settings to make sure they&apos;re correct. Main things to note with OpenCore:</p>
<ul>
<li><strong>All properties must be defined</strong>, there are no default OpenCore will fall back on so <strong>do not delete sections unless told explicitly so</strong>. If the guide doesn&apos;t mention the option, leave it at default.</li>
<li><strong>The Sample.plist cannot be used As-Is</strong>, you must configure it to your system</li>
<li><strong>DO NOT USE CONFIGURATORS</strong>, these rarely respect OpenCore&apos;s configuration and even some like Mackie&apos;s will add Clover properties and corrupt plists!</li>
</ul>
<p>Now with all that, we&apos;ll need some things to get started:</p>
<ul>
<li><a href="https://github.com/corpnewt/ProperTree" target="_blank">ProperTree</a>: For editing our config, this editor has some super useful tools for OpenCore</li>
<li><a href="https://github.com/corpnewt/GenSMBIOS" target="_blank">GenSMBIOS</a>: For generating our SMBIOS</li>
<li><a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">Sample.plist</a>: This is found under the Docs folder of the release download</li>
</ul>
<p>Now with those downloaded, we can get to really get started:</p>
<ul>
<li>Grab the <strong>Sample.plist</strong> and rename to <strong>config.plist</strong></li>
<li>Open your new config.plist in ProperTree<ul>
<li>macOS: <code>ProperTree.command</code></li>
<li>Windows: <code>ProperTree.bat</code></li>
</ul>
</li>
<li>Run the Clean Snapshot function(<strong>Cmd/Ctrl + Shift + R</strong> and point it at your EFI/OC folder), <ul>
<li>This will remove all the entries from the config.plist and then adds all your SSDTs, Kexts and Firmware drivers to the config</li>
<li>Cmd+R is another option that will add all your files as well but will leave entries disabled if they were set like that before, useful for when you&apos;re troubleshooting</li>
</ul>
</li>
</ul>
<p><strong>And read this guide more than once before setting up OpenCore and make sure you have it set up correctly. Do note that images will not always be the most up-to-date so please read the text below them, if nothing&apos;s mentioned then leave as default.</strong></p>
<h2 id="acpi"><a name="acpi" class="plugin-anchor" href="#acpi"><i class="fa fa-link" aria-hidden="true"></i></a>ACPI</h2>
<p><img src="https://i.imgur.com/2T0ubhy.png" alt="ACPI"></p>
<p><strong>Add:</strong></p>
<p>This is where you&apos;ll add SSDTs for your system, these are very important to <strong>booting macOS</strong> and have many uses like <a href="https://usb-map.gitbook.io/project/" target="_blank">USB maps</a>, <a href="../extras/spoof.html">disabling unsupported GPUs</a> and such. And with our system, <strong>its even required to boot</strong>. Guide on making them found here: <a href="../extras/acpi.html"><strong>Getting started with ACPI</strong></a></p>
<p>For us we&apos;ll need a couple of SSDTs to bring back functionality that Clover provided:</p>
<ul>
<li><a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/AcpiSamples/SSDT-PLUG.dsl" target="_blank">SSDT-PLUG</a><ul>
<li>Allows for native CPU power management on Haswell and newer, Clover alternative would be under <code>Acpi -&gt; GenerateOptions -&gt; PluginType</code></li>
</ul>
</li>
<li><a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/AcpiSamples/SSDT-EC.dsl" target="_blank">SSDT-EC</a><ul>
<li>Hides the Embedded controller and creates a fake one for macOS, <strong>needed for all Catalina users</strong> and recommended for other versions of macOS</li>
</ul>
</li>
<li><a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/AcpiSamples/SSDT-EHCx_OFF.dsl" target="_blank">SSDT-EHCx_OFF</a><ul>
<li>Prefered alternative over renaming EHCI for setting up USB correctly on pre-skylake systems. This can be avoided if your BIOS supports EHCI-Handoff</li>
</ul>
</li>
</ul>
<p>Note that you <strong>should not</strong> add your generated <code>DSDT.aml</code> here, it is already in your firmware. So if present, remove the entry for it in your <code>config.plist</code> and under EFI/ACPI.</p>
<p>For those wanting a deeper dive into dumping your DSDT, how to make these SSDTs, and compiling them, please see the <a href="../extras/acpi.html"><strong>Getting started with ACPI</strong></a> <strong>page.</strong> Compiled SSDTs have a <strong>.aml</strong> extension(Assembled) and will go into the <code>EFI/OC/ACPI</code> folder and <strong>must</strong> be specified in your config under <code>ACPI -&gt; Add</code> as well.</p>
<p><strong>Block</strong></p>
<p>This blocks certain ACPI tabes from loading, for us we can ignore this</p>
<p><strong>Patch</strong>:</p>
<p>This section allows us to dynamically modify parts of the ACPI (DSDT, SSDT, etc.) via OpenCore. For us, our patches are handled by our SSDTs. This is a much cleaner solution as this will allow us to boot Windows and other OSes with OpenCore</p>
<p><strong>Quirk</strong>: </p>
<p>Settings relating to ACPI, leave everything here as default.</p>
<ul>
<li><strong>FadtEnableReset</strong>: NO<ul>
<li>Enable reboot and shutdown on legacy hardware, not recommended unless needed</li>
</ul>
</li>
<li><strong>NormalizeHeaders</strong>: NO<ul>
<li>Cleanup ACPI header fields, only relevant for macOS High Sierra 10.13</li>
</ul>
</li>
<li><strong>RebaseRegions</strong>: NO<ul>
<li>Attempt to heuristically relocate ACPI memory regions, not needed unless custom DSDT is used.</li>
</ul>
</li>
<li><strong>ResetHwSig</strong>: NO<ul>
<li>Needed for hardware that fails to maintain hardware signature across the reboots and cause issues with waking from hibernation</li>
</ul>
</li>
<li><strong>ResetLogoStatus</strong>: NO<ul>
<li>Workaround for OEM Windows logo not drawing on systems with BGRT tables.</li>
</ul>
</li>
</ul>
<h2 id="booter"><a name="booter" class="plugin-anchor" href="#booter"><i class="fa fa-link" aria-hidden="true"></i></a>Booter</h2>
<p><img src="https://cdn.discordapp.com/attachments/683011276938543134/696573787994325013/Screen_Shot_2020-04-05_at_10.15.09_PM.png" alt="Booter"></p>
<p>This section is dedicated to quirks relating to boot.efi patching with OpenRuntime, the replacement for AptioMemoryFix.efi</p>
<p><strong>MmioWhitelist</strong>:</p>
<p>This section is allowing spaces to be passthrough to macOS that are generally ignored, useful when paired with <code>DevirtualiseMmio</code></p>
<p><strong>Quirks</strong>:</p>
<p>Settings relating to boot.efi patching and firmware fixes, one we need to change is <code>RebuildAppleMemoryMap</code></p>
<ul>
<li><strong>AvoidRuntimeDefrag</strong>: YES<ul>
<li>Fixes UEFI runtime services like date, time, NVRAM, power control, etc</li>
</ul>
</li>
<li><strong>DevirtualiseMmio</strong>: NO<ul>
<li>Reduces Stolen Memory Footprint, expands options for <code>slide=N</code> values and generally useful especially on HEDT and Xeon systems</li>
</ul>
</li>
<li><strong>DisableSingleUser</strong>: NO<ul>
<li>Disables the use of <code>Cmd+S</code> and <code>-s</code>, this is closer to the behaviour of T2 based machines</li>
</ul>
</li>
<li><strong>DisableVariableWrite</strong>: NO<ul>
<li>Needed for systems with non-functioning NVRAM, you can verify <a href="../post-install/nvram.html">here</a> if yours works</li>
</ul>
</li>
<li><strong>DiscardHibernateMap</strong>: NO<ul>
<li>Reuse original hibernate memory map, only needed for certain legacy hardware </li>
</ul>
</li>
<li><strong>EnableSafeModeSlide</strong>: YES<ul>
<li>Allows for slide values to be used in Safemode</li>
</ul>
</li>
<li><strong>EnableWriteUnprotector</strong>: YES<ul>
<li>Removes write protection from CR0 register during their execution</li>
</ul>
</li>
<li><strong>ForceExitBootServices</strong>: NO<ul>
<li>Ensures ExitBootServices calls succeeds even when MemoryMap has changed, don&apos;t use unless necessary </li>
</ul>
</li>
<li><strong>ProtectMemoryRegion</strong>: NO<ul>
<li>Needed for fixing artefacts and sleep-wake issues, generally only needed on very old firmwares</li>
</ul>
</li>
<li><strong>ProtectSecureBoot</strong>: NO<ul>
<li>Fixes secureboot keys on MacPro5,1 and Insyde firmwares</li>
</ul>
</li>
<li><strong>ProtectUefiServices</strong>: NO<ul>
<li>Protects UEFI services from being overridden by the firmware, mainly relevant for VMs, Icelake and newer Coffeelake systems</li>
</ul>
</li>
<li><strong>ProvideCustomSlide</strong>: YES<ul>
<li>If there&apos;s a conflicting slide value, this option forces macOS to use a pseudo-random value. Needed for those receiving <code>Only N/256 slide values are usable!</code> debug message</li>
</ul>
</li>
<li><strong>RebuildAppleMemoryMap</strong>: YES<ul>
<li>Generates Memory Map compatible with macOS</li>
</ul>
</li>
<li><strong>SetupVirtualMap</strong>: YES<ul>
<li>Fixes SetVirtualAddresses calls to virtual addresses, not needed on Skylake and newer</li>
</ul>
</li>
<li><strong>SignalAppleOS</strong>: NO<ul>
<li>Tricks the hardware into thinking its always booting macOS, mainly benifitial for MacBook Pro&apos;s with dGPUs as booting Windows won&apos;t allow for the iGPU to be used</li>
</ul>
</li>
<li><strong>SyncRuntimePermissions</strong>: NO<ul>
<li>Fixes alignment with MAT tables and required to boot Windows and Linux with MAT tables, also recommended for macOS. Mainly relevant for Skylake and newer</li>
</ul>
</li>
</ul>
<h2 id="deviceproperties"><a name="deviceproperties" class="plugin-anchor" href="#deviceproperties"><i class="fa fa-link" aria-hidden="true"></i></a>DeviceProperties</h2>
<p><img src="https://i.imgur.com/vgLIhOo.png" alt="DeviceProperties"></p>
<p><strong>Add</strong>: Sets device properties from a map.</p>
<p>This section is set up via WhateverGreen&apos;s <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.en.md" target="_blank">Framebuffer Patching Guide</a> and is used for fixing certain iGPU properties like <code>ig-platform-id</code>. The way we get the proper value for this is to look at the framebuffer we intend to use, then swap the pairs of hex bytes.</p>
<p>If we think of our ig-plat as <code>0xAABBCCDD</code>, our swapped version would look like <code>DDCCBBAA</code></p>
<p>The two ig-platform-id&apos;s we use are as follows:</p>
<ul>
<li><code>0x0D220003</code> - this is used when the Desktop Haswell iGPU is used to drive a display<ul>
<li><code>0300220D</code> when hex-swapped</li>
</ul>
</li>
<li><code>0x04120004</code> - this is used when the Desktop Haswell iGPU is only used for computing tasks and doesn&apos;t drive a display<ul>
<li><code>04001204</code> when hex-swapped</li>
</ul>
</li>
<li><code>0x0D220003</code> - this is used when the Desktop Broadwell iGPU<ul>
<li><code>07002216</code> when hex-swapped</li>
</ul>
</li>
</ul>
<p>I added another portion as well that shows a <code>device-id</code> fake in case you have an HD 4400 which is unsupported in macOS.</p>
<p>The device-id fake is set up like so:</p>
<ul>
<li><code>0x04120000</code> - this is the device id for HD 4600 which does have support in macOS<ul>
<li><code>12040000</code> when hex swapped</li>
</ul>
</li>
</ul>
<p>We also add 2 more properties, <code>framebuffer-patch-enable</code> and <code>framebuffer-stolenmem</code>. The first enables patching via WhateverGreen.kext, and the second sets the min stolen memory to 19MB. This is usually unnecessary, as this can be configured in BIOS(64MB recommended) but required when not available.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Key</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AAPL,ig-platform-id</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">0300220D</td>
</tr>
<tr>
<td style="text-align:left">framebuffer-patch-enable</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">01000000</td>
</tr>
<tr>
<td style="text-align:left">framebuffer-stolenmem</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">00003001</td>
</tr>
<tr>
<td style="text-align:left">device-id</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">12040000</td>
</tr>
</tbody>
</table>
<p>(This is an example for a desktop HD 4400 without a dGPU and no BIOS options for iGPU memory)</p>
<table>
<thead>
<tr>
<th style="text-align:left">Key</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">AAPL,ig-platform-id</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">07002216</td>
</tr>
<tr>
<td style="text-align:left">framebuffer-patch-enable</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">01000000</td>
</tr>
<tr>
<td style="text-align:left">framebuffer-stolenmem</td>
<td style="text-align:left">Data</td>
<td style="text-align:left">00003001</td>
</tr>
</tbody>
</table>
<p>(This is an example for a desktop Iris Pro 6200 and no BIOS options for iGPU memory)</p>
<p><strong>Special note</strong>: Mobile users should refer to mobile iGPU section for what properties should be used: <a href="https://1revenger1.gitbook.io/laptop-guide/prepare-install-macos/display-configuration#igpu-patching" target="_blank">iGPU Patching</a></p>
<p><code>PciRoot(0x0)/Pci(0x1f,0x3)</code> -&gt; <code>Layout-id</code></p>
<ul>
<li>Applies AppleALC audio injection, you&apos;ll need to do your own research on which codec your motherboard has and match it with AppleALC&apos;s layout. <a href="https://github.com/acidanthera/AppleALC/wiki/Supported-codecs" target="_blank">AppleALC Supported Codecs</a>.</li>
</ul>
<p>For us, we&apos;ll be using the boot-arg <code>alcid=xxx</code> instead to accomplish this. <code>alcid</code> will override all other layout-IDs present</p>
<p>Fun Fact: The reason the byte order is swapped is due to <a href="https://en.wikipedia.org/wiki/Endianness" target="_blank">Endianness</a>, specifically Little Endians that modern CPUs use for ordering bytes. The more you know!</p>
<p><strong>Block</strong>: Removes device properties from the map, for us we can ignore this</p>
<h2 id="kernel"><a name="kernel" class="plugin-anchor" href="#kernel"><i class="fa fa-link" aria-hidden="true"></i></a>Kernel</h2>
<p><img src="https://media.discordapp.net/attachments/456913818467958789/681335231080300564/Screen_Shot_2020-02-23_at_8.02.45_PM.png?width=1486&amp;height=1771" alt="Kernel"></p>
<p><strong>Add</strong>: Here&apos;s where you specify which kexts to load, order matters here so make sure Lilu.kext is always first! Other higher priority kexts come after Lilu such as VirtualSMC, AppleALC, WhateverGreen, etc. A reminder that <a href="https://github.com/corpnewt/ProperTree" target="_blank">ProperTree</a> users can run <strong>Cmd/Ctrl + Shift + R</strong> to add all their kexts in the correct order without manually typing each kext out.</p>
<ul>
<li><strong>BundlePath</strong><ul>
<li>Name of the kext</li>
<li>ex: <code>Lilu.kext</code></li>
</ul>
</li>
<li><strong>Enabled</strong><ul>
<li>Self-explanatory, either enables or disables the kext</li>
</ul>
</li>
<li><strong>ExecutablePath</strong><ul>
<li>Path to the actual executable is hidden within the kext, you can see what path your kext has by right-clicking and selecting <code>Show Package Contents</code>. Generally, they&apos;ll be <code>Contents/MacOS/Kext</code> but some have kexts hidden within under <code>Plugin</code> folder. Do note that plist only kexts do not need this filled in.</li>
<li>ex: <code>Contents/MacOS/Lilu</code></li>
</ul>
</li>
<li><strong>PlistPath</strong><ul>
<li>Path to the <code>info.plist</code> hidden within the kext</li>
<li>ex: <code>Contents/Info.plist</code></li>
</ul>
</li>
</ul>
<p><strong>Emulate</strong>: Needed for spoofing unsupported CPUs like Pentiums and Celerons</p>
<ul>
<li><strong>CpuidMask</strong>: Leave this blank</li>
<li><strong>CpuidData</strong>: Leave this blank</li>
</ul>
<p><strong>Block</strong>: Blocks kexts from loading. Not relevant for us</p>
<p><strong>Patch</strong>: Patches both the kernel and kexts</p>
<p><strong>Quirks</strong>:</p>
<p>Settings relating to the kernel, for us we&apos;ll be enabling <code>AppleCpuPmCfgLock</code>, <code>AppleXcpmCfgLock</code>, <code>DisableIOMapper</code>,  <code>PanicNoKextDump</code>, <code>PowerTimeoutKernelPanic</code> and <code>XhciPortLimit</code>. Everything else should be left as default</p>
<ul>
<li><strong>AppleCpuPmCfgLock</strong>: YES <ul>
<li>Only needed when CFG-Lock can&apos;t be disabled in BIOS, Clover counterpart would be AppleIntelCPUPM. <strong>Please verify you can disable CFG-Lock, most systems won&apos;t boot with it on so requiring use of this quirk</strong></li>
</ul>
</li>
<li><strong>AppleXcpmCfgLock</strong>: YES <ul>
<li>Only needed when CFG-Lock can&apos;t be disabled in BIOS, Clover counterpart would be KernelPM. <strong>Please verify you can disable CFG-Lock, most systems won&apos;t boot with it on so requiring use of this quirk</strong></li>
</ul>
</li>
<li><strong>AppleXcpmExtraMsrs</strong>: NO <ul>
<li>Disables multiple MSR access needed for unsupported CPUs like Pentiums and many Xeons.</li>
</ul>
</li>
<li><strong>AppleXcpmForceBoost</strong>: NO<ul>
<li>Forces maximum multiplier, only recommended to enable on scientific or media calculation machines that are constantly under load. Main Xeons benifit from this</li>
</ul>
</li>
<li><strong>CustomSMBIOSGuid</strong>: NO <ul>
<li>Performs GUID patching for UpdateSMBIOSMode Custom mode. Usually relevant for Dell laptops</li>
</ul>
</li>
<li><strong>DisableIoMapper</strong>: YES <ul>
<li>Needed to get around VT-D if either unable to disable in BIOS or needed for other operating systems, much better alternative to <code>dart=0</code> as SIP can stay on in Catalina</li>
</ul>
</li>
<li><strong>DummyPowerManagement</strong>: NO<ul>
<li>New alternative to NullCPUPowerManagement, required for all AMD CPU based systems as there&apos;s no native power management. Intel can ignore</li>
</ul>
</li>
<li><strong>ExternalDiskIcons</strong>: NO <ul>
<li>External Icons Patch, for when internal drives are treated as external drives but can also make USB drives internal. For NVMe on Z87 and below you just add built-in property via DeviceProperties.</li>
</ul>
</li>
<li><strong>IncreasePciBarSize</strong>: NO<ul>
<li>Increases 32-bit PCI bar size in IOPCIFamily from 1 to 4 GB, enabling Above4GDecoding in the BIOS is a much cleaner and safer approach. Some X99 boards may require this, you&apos;ll generally expereince a kernel panic on IOPCIFamily if you need this. Note this shouldn&apos;t be needed on Mojave and newer</li>
</ul>
</li>
<li><strong>LapicKernelPanic</strong>: NO <ul>
<li>Disables kernel panic on AP core lapic interrupt, generally needed for HP systems. Clover equivalent is <code>Kernel LAPIC</code></li>
</ul>
</li>
<li><strong>PanicNoKextDump</strong>: YES <ul>
<li>Allows for reading kernel panics logs when kernel panics occur</li>
</ul>
</li>
<li><strong>PowerTimeoutKernelPanic</strong>: YES<ul>
<li>Helps fix kernel panics relating to power changes with Apple drivers in macOS Catalina, most notably with digital audio.</li>
</ul>
</li>
<li><strong>ThirdPartyDrives</strong>: NO <ul>
<li>Enables TRIM, not needed for NVMe but AHCI based drives may require this. Please check under system report to see if your drive supports TRIM</li>
</ul>
</li>
<li><strong>XhciPortLimit</strong>: YES <ul>
<li>This is actually the 15 port limit patch, don&apos;t rely on it as it&apos;s not a guaranteed solution for fixing USB. Please create a <a href="https://usb-map.gitbook.io/project/" target="_blank">USB map</a> when possible.</li>
</ul>
</li>
</ul>
<p>The reason being is that UsbInjectAll reimplements builtin macOS functionality without proper current tuning. It is much cleaner to just describe your ports in a single plist-only kext, which will not waste runtime memory and such</p>
<h2 id="misc"><a name="misc" class="plugin-anchor" href="#misc"><i class="fa fa-link" aria-hidden="true"></i></a>Misc</h2>
<p><img src="https://cdn.discordapp.com/attachments/683011276938543134/683011604182466560/Screen_Shot_2020-02-28_at_10.52.25_AM.png" alt="Misc"></p>
<p><strong>Boot</strong>: Settings for boot screen (Leave everything as default)</p>
<ul>
<li><strong>HibernateMode</strong>: None<ul>
<li>Best to avoid hibernation with Hackintoshes all together</li>
</ul>
</li>
<li><strong>PickerMode</strong>: <code>Builtin</code><ul>
<li>Sets OpenCore to use the builtin picker</li>
</ul>
</li>
<li><strong>HideAuxiliary</strong>: NO<ul>
<li>Hides Recovery and other partitions unless spacebar is pressed, more closely matches real Mac behaviour</li>
</ul>
</li>
<li><strong>HideSelf</strong>: YES<ul>
<li>Hides the EFI partition as a boot option in OC&apos;s boot picker</li>
</ul>
</li>
<li><strong>ConsoleAttributes</strong>: <code>0</code><ul>
<li>Sets OpenCore&apos;s UI color, won&apos;t be covered here but see 8.3.8 of <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank">Configuration.pdf</a> for more info</li>
</ul>
</li>
<li><strong>PickerAttributes</strong>: <code>0</code><ul>
<li>Used for setting custom picker attributes, won&apos;t be covered here but see 8.3.8 of <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank">Configuration.pdf</a> for more info</li>
</ul>
</li>
<li><strong>PickerAudioAssist</strong>: NO<ul>
<li>Used for enabling VoiceOver like support in the picker, unless you want your hack talking to you keep this disabled</li>
</ul>
</li>
<li><strong>PollAppleHotKeys</strong>: NO<ul>
<li>Allows you to use Apple&apos;s hotkeys during boot, depending on the firmware you may need to use OpenUsbKbDxe.efi instead of OpenCore&apos;s builtin support. Do note that if you can select anything in OC&apos;s picker, disabling this option can help. Popular commands:<ul>
<li><code>Cmd+V</code>: Enables verbose</li>
<li><code>Cmd+Opt+P+R</code>: Cleans NVRAM </li>
<li><code>Cmd+R</code>: Boots Recovery partition</li>
<li><code>Cmd+S</code>: Boot in Single-user mode</li>
<li><code>Option/Alt</code>: Shows boot picker when <code>ShowPicker</code> set to <code>NO</code>, an alternative is <code>ESC</code> key</li>
</ul>
</li>
</ul>
</li>
<li><strong>TakeoffDelay</strong>: <code>0</code><ul>
<li>Used to add a delay for hotkeys when OpenCore is a bit to fast to register, 5000-10000 microseconds is the prefered range for users with broken hotkeys support  </li>
</ul>
</li>
<li><strong>Timeout</strong>: <code>5</code><ul>
<li>This sets how long OpenCore will wait until it automatically boots from the default selection</li>
</ul>
</li>
</ul>
<p><strong>Debug</strong>: Helpful for debugging OpenCore boot issues(We&apos;ll be changing everything <em>but</em> <code>DisplayDelay</code>)</p>
<ul>
<li><strong>AppleDebug</strong>: YES<ul>
<li>Enables boot.efi logging, useful for debuuging. Note this is only supported on 10.15.4 and newer</li>
</ul>
</li>
<li><strong>DisableWatchDog</strong>: YES<ul>
<li>Disables the UEFI watchdog, can help with early boot issues</li>
</ul>
</li>
<li><strong>Target</strong>: <code>67</code><ul>
<li>Shows more debug information, requires debug version of OpenCore</li>
</ul>
</li>
<li><strong>DisplayLevel</strong>: <code>2147483714</code><ul>
<li>Shows even more debug information, requires debug version of OpenCore</li>
</ul>
</li>
</ul>
<p>These values are based of those calculated in <a href="../troubleshooting/debug.html">OpenCore debugging</a></p>
<p><strong>Security</strong>: Security is pretty self-explanatory, <strong>do not skip</strong></p>
<p>We&apos;ll be changing <code>AllowNvramReset</code>, <code>AllowSetDefault</code>, <code>Vault</code> and <code>ScanPolicy</code></p>
<ul>
<li><strong>AllowNvramReset</strong>: YES<ul>
<li>Allows for NVRAM reset both in the boot picker and when pressing <code>Cmd+Opt+P+R</code></li>
</ul>
</li>
<li><strong>AllowSetDefault</strong>: YES<ul>
<li>Allow <code>CTRL+Enter</code> and <code>CTRL+Index</code> to set default boot device in the picker</li>
</ul>
</li>
<li><strong>AuthRestart</strong>: NO:<ul>
<li>Enables Authenticated restart for FileVault2 so password is not required on reboot. Can be concidered a security risk so optional</li>
</ul>
</li>
<li><strong>ExposeSensitiveData</strong>: <code>6</code><ul>
<li>Shows more debug information, requires debug version of OpenCore</li>
</ul>
</li>
<li><strong>Vault</strong>: <code>Optional</code><ul>
<li>We won&apos;t be dealing vaulting so we can ignore, <strong>you won&apos;t boot with this set to Secure</strong></li>
</ul>
</li>
<li><strong>ScanPolicy</strong>: <code>0</code> <ul>
<li><code>0</code> allows you to see all drives available, please refer to <a href="../post-install/security.html">Security</a> section for further details. <strong>Will not boot USBs with this set to default</strong></li>
</ul>
</li>
</ul>
<p><strong>Tools</strong> Used for running OC debugging tools like the shell, ProperTree&apos;s snapshot function will add these for you. For us, we won&apos;t be using any tools</p>
<ul>
<li><strong>Name</strong> <ul>
<li>Name shown in OpenCore</li>
</ul>
</li>
<li><strong>Enabled</strong> <ul>
<li>Self-explanatory, enables or disables</li>
</ul>
</li>
<li><strong>Path</strong> <ul>
<li>Path to file after the <code>Tools</code> folder</li>
<li>ex: <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">OpenShell.efi</a></li>
</ul>
</li>
</ul>
<p><strong>Entries</strong>: Used for specifying irregular boot paths that can&apos;t be found naturally with OpenCore</p>
<p>Won&apos;t be covered here, see 8.6 of <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank">Configuration.pdf</a> for more info</p>
<h2 id="nvram"><a name="nvram" class="plugin-anchor" href="#nvram"><i class="fa fa-link" aria-hidden="true"></i></a>NVRAM</h2>
<p><img src="https://cdn.discordapp.com/attachments/456913818467958789/681330600606826568/Screen_Shot_2020-02-23_at_7.44.23_PM.png" alt="NVRAM"></p>
<p><strong>Add</strong>: </p>
<p>4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14 (Booter Path, mainly used for UI Scaling)</p>
<ul>
<li><p><strong>UIScale</strong>:</p>
<ul>
<li><code>01</code>: Standard resolution(Clover equivalent is <code>0x28</code>)</li>
<li><code>02</code>: HiDPI (generally required for FileVault to function correctly on smaller displays, Clover equivalent is <code>0x2A</code>)</li>
</ul>
</li>
<li><p><strong>DefaultBackgroundColor</strong>: Background color used by boot.efi</p>
<ul>
<li><code>00000000</code>: Syrah Black</li>
<li><code>BFBFBF00</code>: Light Gary</li>
</ul>
</li>
</ul>
<p>7C436110-AB2A-4BBB-A880-FE41995C9F82 (System Integrity Protection bitmask)</p>
<ul>
<li><strong>boot-args</strong>:<ul>
<li><strong>-v</strong> - this enables verbose mode, which shows all the behind-the-scenes text that scrolls by as you&apos;re booting instead of the Apple logo and progress bar. It&apos;s invaluable to any Hackintosher, as it gives you an inside look at the boot process, and can help you identify issues, problem kexts, etc.</li>
<li><strong>debug=0x100</strong>- this disables macOS&apos;s watchdog which helps prevents a reboot on a kernel panic. That way you can <em>hopefully</em> glean some useful info and follow the breadcrumbs to get past the issues.</li>
<li><strong>keepsyms=1</strong> - this is a companion setting to debug=0x100 that tells the OS to also print the symbols on a kernel panic. That can give some more helpful insight as to what&apos;s causing the panic itself.</li>
<li><strong>alcid=1</strong> - used for setting layout-id for AppleALC, see <a href="https://github.com/acidanthera/applealc/wiki/supported-codecs" target="_blank">supported codecs</a> to figure out which layout to use for your specific system.</li>
</ul>
</li>
</ul>
<ul>
<li><strong>csr-active-config</strong>: Settings for SIP, generally recommended to manually change this within Recovery partition with <code>csrutil</code> via the recovery partition</li>
</ul>
<p>csr-active-config is set to <code>00000000</code> which enables System Integrity Protection. You can choose a number of other options to enable/disable sections of SIP. Some common ones are as follows:</p>
<ul>
<li><code>00000000</code> - SIP completely enabled</li>
<li><code>03000000</code> - Allow unsigned kexts and writing to protected fs locations</li>
<li><code>E7030000</code> - SIP completely disabled</li>
</ul>
<p>Recommended to leave enabled for best security practices</p>
<ul>
<li><strong>nvda_drv</strong>: &lt;&gt; <ul>
<li>For enabling Nvidia WebDrivers, set to 31 if running a <a href="https://github.com/khronokernel/Catalina-GPU-Buyers-Guide/blob/master/README.md#Unsupported-nVidia-GPUs" target="_blank">Maxwell or Pascal GPU</a>. This is the same as setting nvda_drv=1 but instead we translate it from <a href="https://www.browserling.com/tools/hex-to-text" target="_blank">text to hex</a>, Clover equivalent is <code>NvidiaWeb</code>. <strong>AMD, Intel and Kepler GPU users should delete this section.</strong></li>
</ul>
</li>
<li><strong>prev-lang:kbd</strong>: &lt;&gt; <ul>
<li>Needed for non-latin keyboards in the format of <code>lang-COUNTRY:keyboard</code>, recommeneded to keep blank though you can specify it(<strong>Default in Sample config is Russian</strong>):</li>
<li>American: <code>en-US:0</code>(<code>656e2d55533a30</code> in HEX)</li>
<li>Full list can be found in <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Utilities/AppleKeyboardLayouts/AppleKeyboardLayouts.txt" target="_blank">AppleKeyboardLayouts.txt</a></li>
<li>Hint: <code>prev-lang:kbd</code> can be changed into a String so you can input <code>en-US:0</code> directly instead of converting to HEX</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Key</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">prev-lang:kbd</td>
<td style="text-align:left">String</td>
<td style="text-align:left">en-US:0</td>
</tr>
</tbody>
</table>
<p><strong>Block</strong>: Forcibly rewrites NVRAM variables, do note that <code>Add</code> <strong>will not overwrite</strong> values already present in NVRAM so values like <code>boot-args</code> should be left alone.</p>
<p><strong>LegacyEnable</strong>: NO</p>
<ul>
<li>Allows for NVRAM to be stored on nvram.plist, needed for systems without native NVRAM</li>
</ul>
<p><strong>LegacyOverwrite</strong>: NO</p>
<ul>
<li>Permits overwriting firmware variables from nvram.plist, only needed for systems without native NVRAM</li>
</ul>
<p><strong>LegacySchema</strong></p>
<ul>
<li>Used for assigning NVRAM variables, used with LegacyEnable set to YES</li>
</ul>
<p><strong>WriteFlash</strong>: YES</p>
<ul>
<li>Enables writing to flash memory for all added variables.</li>
</ul>
<h2 id="platforminfo"><a name="platforminfo" class="plugin-anchor" href="#platforminfo"><i class="fa fa-link" aria-hidden="true"></i></a>Platforminfo</h2>
<p><img src="https://i.imgur.com/XlxjsAd.png" alt="PlatformInfo"></p>
<p>For setting up the SMBIOS info, we&apos;ll use CorpNewt&apos;s <a href="https://github.com/corpnewt/GenSMBIOS" target="_blank">GenSMBIOS</a> application. </p>
<p>For this Haswell example, we chose the iMac15,1 SMBIOS. The typical breakdown is as follows:</p>
<ul>
<li>Haswell with only iGPU<ul>
<li>iMac14,1</li>
</ul>
</li>
<li>Haswell with dGPU<ul>
<li>iMac14,2</li>
</ul>
</li>
<li>Haswell Refresh (Devil&apos;s Canyon)<ul>
<li>iMac15,1</li>
</ul>
</li>
<li>Broadwell<ul>
<li>iMac16,1</li>
</ul>
</li>
</ul>
<p><strong>Note</strong>: Mobile users should refer to the SMBIOS page on which to choose: <a href="https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extras/smbios.md" target="_blank">Mobile SMBIOS</a></p>
<p>Run GenSMBIOS, pick option 1 for downloading MacSerial and Option 3 for selecting out SMBIOS.  This will give us an output similar to the following:</p>
<pre><code class="lang-text">  #######################################################
 #               iMac15,1 SMBIOS Info                  #
#######################################################

Type:         iMac15,1
Serial:       C02M9SYJFY10
Board Serial: C02408101J9G2Y7A8
SmUUID:       7B227BEC-660D-405F-8E60-411B3E4EF055
</code></pre>
<p>The <code>Type</code> part gets copied to Generic -&gt; SystemProductName.</p>
<p>The <code>Serial</code> part gets copied to Generic -&gt; SystemSerialNumber.</p>
<p>The <code>Board Serial</code> part gets copied to Generic -&gt; MLB.</p>
<p>The <code>SmUUID</code> part gets copied toto Generic -&gt; SystemUUID.</p>
<p>We set Generic -&gt; ROM to either an Apple ROM (dumped from a real Mac), your NIC MAC address, or any random MAC address (could be just 6 random bytes, for this guide we&apos;ll use <code>11223300 0000</code>. After install follow the <a href="../post-install/iservices.html">Fixing iServices</a> page on how to find your real MAC Address)</p>
<p><strong>Reminder that you want either an invalid serial or valid serial numbers but those not in use, you want to get a message back like: &quot;Invalid Serial&quot; or &quot;Purchase Date not Validated&quot;</strong></p>
<p><a href="https://checkcoverage.apple.com" target="_blank">Apple Check Coverage page</a></p>
<p><strong>Automatic</strong>: YES </p>
<ul>
<li>Generates Platforminfo based on Generic section instead of DataHub, NVRAM, and SMBIOS sections</li>
</ul>
<p><strong>Generic</strong>:</p>
<ul>
<li><strong>SpoofVendor</strong>: YES<ul>
<li>Swaps vendor field for Acidanthera, generally not safe to use Apple as a vendor in most case</li>
</ul>
</li>
<li><strong>SupportsCsm</strong>: NO<ul>
<li>Used for when the EFI partition isn&apos;t first on the windows drive</li>
</ul>
</li>
</ul>
<p><strong>UpdateDataHub</strong>: YES</p>
<ul>
<li>Update Data Hub fields</li>
</ul>
<p><strong>UpdateNVRAM</strong>: YES</p>
<ul>
<li>Update NVRAM fields</li>
</ul>
<p><strong>UpdateSMBIOS</strong>: YES</p>
<ul>
<li>Updates SMBIOS fields</li>
</ul>
<p><strong>UpdateSMBIOSMode</strong>: Create</p>
<ul>
<li>Replace the tables with newly allocated EfiReservedMemoryType, use Custom on Dell laptops requiring CustomSMBIOSGuid quirk</li>
</ul>
<h2 id="uefi"><a name="uefi" class="plugin-anchor" href="#uefi"><i class="fa fa-link" aria-hidden="true"></i></a>UEFI</h2>
<p><img src="https://cdn.discordapp.com/attachments/683011276938543134/683518166915481677/Screen_Shot_2020-02-29_at_8.36.55_PM.png" alt="UEFI"></p>
<p><strong>ConnectDrivers</strong>: YES</p>
<ul>
<li>Forces .efi drivers, change to NO will automatically connect added UEFI drivers. This can make booting slightly faster, but not all drivers connect themselves. E.g. certain file system drivers may not load.</li>
</ul>
<p><strong>Drivers</strong>: Add your .efi drivers here</p>
<p>Only drivers present here should be:</p>
<ul>
<li>HfsPlus.efi</li>
<li>ApfsDriverLoader.efi</li>
<li>OpenRuntime.efi</li>
</ul>
<p><strong>Audio</strong>: Related to AudioDxe settings, for us we&apos;ll be ignoring(leave as default). This is unrelated to audio support in macOS</p>
<ul>
<li><strong>AudioSupport</strong>: NO<ul>
<li>Used for enabling the audio port out, this requires AudioOut</li>
</ul>
</li>
<li><strong>AudioDevice</strong>: [Blank]<ul>
<li>This will be the PciRoot of your audio device, <a href="https://github.com/acidanthera/gfxutil/releases" target="_blank">gfxutil</a> and debug log are great ways to find this</li>
</ul>
</li>
<li><strong>AudioCodec</strong>: 0<ul>
<li>Specify your audio codec address, can be found in either debug log or with under <code>IOHDACodecAddress</code> in IOService</li>
</ul>
</li>
<li><strong>AudioOut</strong>: 0<ul>
<li>Specifies which output is used, use the debug log to see what your board has</li>
<li>Same idea, can be found in either debug log or with <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank">HdaCodecDump.efi</a></li>
</ul>
</li>
<li><strong>MinimumVolume</strong>: 20<ul>
<li>Default sound level for audio output</li>
</ul>
</li>
<li><strong>PlayChime</strong>: NO<ul>
<li>Emulates the iconic Mac startup sound</li>
<li>This also requires <a href="https://github.com/acidanthera/OcBinaryData/blob/master/Resources/Audio/AXEFIAudio_VoiceOver_Boot.wav" target="_blank"><code>AXEFIAudio_VoiceOver_Boot.wav</code></a> under EFI/OC/Resources/Audio</li>
</ul>
</li>
<li><strong>VolumeAmplifier</strong>: 0<ul>
<li>Multiplication coefficient for system volume to raw volume linear translation from 0 to 1000, see <a href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Configuration.pdf" target="_blank">Configuration.pdf</a> for more info on calculation</li>
</ul>
</li>
</ul>
<p><strong>Input</strong>: Related to boot.efi keyboard passthrough used for FileVault and Hotkey support</p>
<ul>
<li><strong>KeyFiltering</strong>: NO<ul>
<li>Verifies and discards uninitialised data, mainly prevalent on 7 series Gigabyte boards</li>
</ul>
</li>
<li><strong>KeyForgetThreshold</strong>: <code>5</code><ul>
<li>The delay between each key input when holding a key down, for best results use <code>5</code> milliseconds</li>
</ul>
</li>
<li><strong>KeyMergeThreshold</strong>: <code>2</code><ul>
<li>The length of time that a key will be registered before resetting, for best results use <code>2</code> milliseconds</li>
</ul>
</li>
<li><strong>KeySupport</strong>: <code>YES</code><ul>
<li>Enables OpenCore&apos;s built in key support and <strong>required for boot picker selection</strong>, do not use with OpenUsbKbDxe.efi</li>
</ul>
</li>
<li><strong>KeySupportMode</strong>: <code>Auto</code><ul>
<li>Keyboard translation for OpenCore</li>
</ul>
</li>
<li><strong>KeySwap</strong>: <code>NO</code><ul>
<li>Swaps <code>Option</code> and <code>Cmd</code> key</li>
</ul>
</li>
<li><strong>PointerSupport</strong>: <code>NO</code><ul>
<li>Used for fixing broken pointer support, commonly used for Z87 Asus boards</li>
</ul>
</li>
<li><strong>PointerSupportMode</strong>:<ul>
<li>Specifies OEM protocol, currently only supports Z87 and Z97 ASUS boards so leave blank</li>
</ul>
</li>
<li><strong>TimerResolution</strong>: <code>50000</code><ul>
<li>Set architecture timer resolution, Asus Z87 boards use <code>60000</code> for the interface. Settings to <code>0</code> can also work for some</li>
</ul>
</li>
</ul>
<p><strong>Output</strong>: Relating to visual output</p>
<ul>
<li><strong>TextRenderer</strong>: <code>BuiltinGraphics</code><ul>
<li>Used for fixing resoltuion of OpenCore itself, <code>Resolution</code> must be set to <code>Max</code> to work correctly</li>
</ul>
</li>
<li><strong>ConsoleMode</strong>: [Blank]<ul>
<li>Specifies Console output size, best to keep it blank</li>
</ul>
</li>
<li><strong>Resolution</strong>: <code>Max</code><ul>
<li>Sets OpenCore&apos;s resolution, <code>Max</code> will use the highest avalible reolution or can be specified (<code>WxH@Bpp (e.g. 1920x1080@32) or WxH (e.g. 1920x1080)</code>)</li>
</ul>
</li>
<li><strong>ClearScreenOnModeSwitch</strong>: NO<ul>
<li>Needed for when half of the previously drawn image remains, will force black screen before switching to TextMode. Do note that this is only required in cases when using <code>System</code> TextRenderer</li>
</ul>
</li>
<li><strong>IgnoreTextInGraphics</strong>: NO<ul>
<li>Fix for UI corruption when both text and graphics outputs, only relevant for users using <code>System</code> TextRenderer </li>
</ul>
</li>
<li><strong>ProvideConsoleGop</strong>: YES<ul>
<li>Enables GOP(Graphics output Protcol) which the macOS bootloader requires for console handle, <strong>required for graphical output once the kernel takes over</strong></li>
</ul>
</li>
<li><strong>DirectGopRendering</strong>: NO<ul>
<li>Use builtin graphics output protocol renderer for console, mainly relevant for MacPro5,1 users</li>
</ul>
</li>
<li><strong>ReconnectOnResChange</strong>: NO</li>
<li><strong>ReplaceTabWithSpace</strong>: NO<ul>
<li>Depending on the firmware, some system may need this to properly edit files in the UEFI shell when unable to handle Tabs. This swaps it for spaces instead-but majority can ignore it but do note that ConsoleControl set to True may be needed   </li>
</ul>
</li>
<li><strong>SanitiseClearScreen</strong>: NO<ul>
<li>Fixes High resolutions displays that display OpenCore in 1024x768, only relevant for users using <code>System</code> TextRenderer</li>
</ul>
</li>
</ul>
<p><strong>Protocols</strong>: (Most values can be ignored here as they&apos;re meant for real Macs/VMs)</p>
<ul>
<li><strong>AppleSmcIo</strong>: NO<ul>
<li>Reinstalls Apple SMC I/O, this is the equivlant of VirtualSMC.efi which is only needed for users using FileVault</li>
</ul>
</li>
<li><strong>FirmwareVolume</strong>: NO<ul>
<li>Fixes UI regarding Filevault, set to YES for better FileVault compatibility</li>
</ul>
</li>
<li><strong>HashServices</strong>: NO<ul>
<li>Fixes incorrect cursor size when running FileVault, set to YES for better FileVault compatibility</li>
</ul>
</li>
<li><strong>UnicodeCollation</strong>: NO<ul>
<li>Some older firmware have broken Unicode collation, fixes UEFI shell compatibility on these systems(generally IvyBridge and older)</li>
</ul>
</li>
</ul>
<p><strong>Quirks</strong>:</p>
<ul>
<li><strong>ExitBootServicesDelay</strong>: <code>0</code><ul>
<li>Only required for very specific use cases like setting to <code>3000</code> - <code>5000</code> for ASUS Z87-Pro running FileVault2</li>
</ul>
</li>
<li><strong>IgnoreInvalidFlexRatio</strong>: YES<ul>
<li>Fix for when MSR_FLEX_RATIO (0x194) can&apos;t be disabled in the BIOS, required for all pre-skylake based systems</li>
</ul>
</li>
<li><strong>ReleaseUsbOwnership</strong>: NO<ul>
<li>Releases USB controller from firmware driver, needed for when your firmware doesn&apos;t support EHCI/XHCI Handoff. Clover equivalent is <code>FixOwnership</code></li>
</ul>
</li>
<li><strong>RequestBootVarFallback</strong>: YES<ul>
<li>Request fallback of some Boot prefixed variables from <code>OC_VENDOR_VARIABLE_GUID</code> to <code>EFI_GLOBAL_VARIABLE_GUID</code>. Used for fixing boot options.</li>
</ul>
</li>
<li><strong>RequestBootVarRouting</strong>: YES<ul>
<li>Redirects AptioMemeoryFix from <code>EFI_GLOBAL_VARIABLE_GUID</code> to <code>OC\_VENDOR\_VARIABLE\_GUID</code>. Needed for when firmware tries to delete boot entries and is recommended to be enabled on all systems for correct update installation, Startup Disk control panel functioning, etc.</li>
</ul>
</li>
<li><strong>UnblockFsConnect</strong>: NO<ul>
<li>Some firmware block partition handles by opening them in By Driver mode, which results in File System protocols being unable to install. Mainly relevant for HP systems when no drives are listed</li>
</ul>
</li>
</ul>
<h2 id="cleaning-up"><a name="cleaning-up" class="plugin-anchor" href="#cleaning-up"><i class="fa fa-link" aria-hidden="true"></i></a>Cleaning up</h2>
<p>And now you&apos;re ready to save and place it into your EFI under EFI/OC.</p>
<p>For those having booting issues, please make sure to read the <a href="../troubleshooting/troubleshooting.html">Troubleshooting section</a> first and if your questions are still unanswered we have plenty of resources at your disposal:</p>
<ul>
<li><a href="https://www.reddit.com/r/hackintosh/" target="_blank">r/Hackintosh Subreddit</a></li>
<li><a href="https://discord.gg/2QYd7ZT" target="_blank">r/Hackintosh Discord</a></li>
</ul>
<p><strong>Sanity check</strong>:</p>
<p>So thanks to the efforts of Ramus, we also have an amazing tool to help verify your config for those who may have missed something:</p>
<ul>
<li><a href="https://opencore.slowgeek.com" target="_blank"><strong>Sanity Checker</strong></a></li>
</ul>
<h1 id="intel-bios-settings"><a name="intel-bios-settings" class="plugin-anchor" href="#intel-bios-settings"><i class="fa fa-link" aria-hidden="true"></i></a>Intel BIOS settings</h1>
<p><strong>Disable:</strong></p>
<ul>
<li>Fast Boot</li>
<li>VT-d (can be enabled if you set <code>DisableIoMapper</code> to YES)</li>
<li>CSM</li>
<li>Thunderbolt</li>
<li>Intel SGX</li>
<li>Intel Platform Trust</li>
<li>CFG Lock (MSR 0xE2 write protection)(<strong>This must be off, if you can&apos;t find the option then enable both <code>AppleCpuPmCfgLock</code> and <code>AppleXcpmCfgLock</code> under Kernel -&gt; Quirks. Your hack will not boot with CFG-Lock enabled</strong>)</li>
</ul>
<p><strong>Enable:</strong></p>
<ul>
<li>VT-x</li>
<li>Above 4G decoding</li>
<li>Hyper-Threading</li>
<li>Execute Disable Bit</li>
<li>EHCI/XHCI Hand-off</li>
<li>OS type: Windows 8.1/10 UEFI Mode</li>
<li>DVMT Pre-Allocated(iGPU Memory): 64MB</li>
</ul>
<h1 id="post-install"><a name="post-install" class="plugin-anchor" href="#post-install"><i class="fa fa-link" aria-hidden="true"></i></a><a href="../post-install/">Post-install</a></h1>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="ivy-bridge.html" class="navigation navigation-prev " aria-label="Previous page: Ivy Bridge">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="skylake.html" class="navigation navigation-next " aria-label="Next page: Skylake">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Haswell","level":"2.2","depth":1,"next":{"title":"Skylake","level":"2.3","depth":1,"path":"config.plist/skylake.md","ref":"config.plist/skylake.md","articles":[]},"previous":{"title":"Ivy Bridge","level":"2.1","depth":1,"path":"config.plist/ivy-bridge.md","ref":"config.plist/ivy-bridge.md","articles":[]},"dir":"ltr"},"config":{"plugins":["theme-default","-lunr","-search","search-plus","addcssjs","favicon-plus","github-edit","anchors","last-modified"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"last-modified":{},"output":"_book","addcssjs":{"css":[],"js":[]},"fontsettings":{"family":"sans","size":2,"theme":"night"},"favicon-plus":{"appleTouchIconPrecomposed152":"","favicon":"","output":"_book"},"highlight":{},"github-edit":{"repo":"khronokernel/Opencore-Vanilla-Desktop-Guide","branch":"master"},"favicon":"/icons/favicon.ico","appleTouchIconPrecomposed152":"/icons/appleTouchIconPrecomposed152.png","sharing":{"all":[],"facebook":false,"google":false,"instapaper":false,"twitter":false,"vk":false,"weibo":false},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"anchors":{},"search-plus":{}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":null,"paperSize":"a4","margin":{"right":62,"left":62,"top":36,"bottom":36},"fontSize":12,"fontFamily":"Arial","footerTemplate":null,"chapterMark":"pagebreak","pageNumbers":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"links":{"sharing":{"google":false,"facebook":false,"twitter":false,"weibo":false,"all":false}},"gitbook":"*"},"file":{"path":"config.plist/haswell.md","mtime":"2020-04-14T15:52:12.092Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-04-14T15:54:22.395Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-edit/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

